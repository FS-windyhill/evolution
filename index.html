<!DOCTYPE html>
<html lang="zh-CN">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>å¤´è¶³çº²è¿›åŒ–æ¨¡æ‹Ÿå™¨ v3.0 (çºªå…ƒæ¼”åŒ–ç‰ˆ)</title>
    <!-- PWA ç›¸å…³ -->
    <link rel="manifest" href="./manifest.webmanifest">
    <link rel="icon" href="./icon192.png">
    <link rel="apple-touch-icon" href="./icon192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="./style.css">

    <!-- æ–°å¢å¤§äº‹ä»¶å¼¹çª—æ ·å¼ -->
    <style>
        #major-event-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: #fff;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
        }
        .event-content {
            background-color: #023047;
            border-left: 5px solid #ffb703;
            padding: 30px;
            border-radius: 8px;
            max-width: 500px;
            animation: fadeIn 0.5s ease-in-out;
        }
        .event-content h2 {
            color: #ffb703;
            margin-top: 0;
        }
        .event-content button {
            background-color: #ffb703;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>

</head>
<body>

    <!-- æ‚¨çš„å…¶ä½™HTMLä»£ç ä¿æŒä¸å˜ï¼Œè¿™é‡Œçœç•¥ -->
    <div class="main-container">
    <!-- æ ‡é¢˜åŒº -->
    <div class="header-section">
        <h1>å¤´è¶³çº²è¿›åŒ–æ¨¡æ‹Ÿå™¨</h1>
        <small>"ä»å¯’æ­¦çºªçš„ä½™æ™–åˆ°æ°¸æ’çš„æ„å¿—"</small>
    </div>


    <!-- é¡¶éƒ¨çŠ¶æ€æ  -->
    <div class="status-bar">
        <!-- èƒ½é‡ç³»ç»Ÿ -->
        <div class="status-item">
        <div class="status-label">
            <span>âš¡ èƒ½é‡ï¼š</span>
            <span id="val-energy">85/100</span>
        </div>
        <div class="progress-bg">
            <div id="bar-energy" class="progress-fill energy-fill" style="width: 85%;"></div>
        </div>
        <small id="hint-energy">èƒ½é‡æ˜¯è¿›åŒ–çš„åŸºç¡€</small>
    </div>
    
    <!-- â­ æ–°å¢ï¼šè¿›åŒ–è¿›åº¦ -->
    <div class="status-item">
      <div class="status-label">
        <span>ğŸ§¬ è¿›åŒ–è¿›åº¦ï¼š</span>
        <span id="val-evolution">0/100</span>
      </div>
      <div class="progress-bg">
        <div id="bar-evolution" class="progress-fill evolution-fill" style="width: 0%;"></div>
      </div>
      <small id="hint-evolution">æ¨åŠ¨ç‰©ç§çš„æ¼”å˜</small>
    </div>
    
    <!-- çºªå…ƒè¿›åº¦ -->
    <div class="status-item">
      <div class="status-label">
        <span>ğŸŒ çºªå…ƒï¼š</span>
        <span id="val-epoch">å¥¥é™¶çºª</span>
      </div>
      <div class="progress-bg">
        <div id="bar-epoch" class="progress-fill epoch-fill" style="width: 15%;"></div>
      </div>
      <small id="hint-epoch">æ—¶ä»£æ´ªæµï¼š15%</small>
    </div>
   
    <!-- å¹¸è¿å€¼ -->
    <div class="status-item">
        <div class="status-label">
            <span>ğŸ€ å¹¸è¿ï¼š</span>
            <span id="val-luck">??/100</span>
        </div>
        <div class="progress-bg">
            <div id="bar-luck" class="progress-fill luck-fill" style="width: 50%;"></div>
        </div>
        <small>å‘½è¿çš„æ— å½¢ä¹‹æ‰‹</small>
        </div>
    </div>

  <!-- è¯—æ„å™äº‹åŒº -->
  <div id="story-text" class="narrative-box">
    æ­£åœ¨è¿æ¥è¿œå¤æ„è¯†åº“... (AI åˆå§‹åŒ–ä¸­)
  </div>

  <!-- ç¯å¢ƒä¸çŠ¶æ€åˆ†æ  -->
  <div class="info-columns">
    <!-- çŠ¶æ€é¢æ¿ -->
    <div class="panel status-panel">
      <h3>ğŸ§¬ ç”Ÿå‘½çŠ¶æ€</h3>
      <ul class="stats-list">
        <li>ğŸ§  <b>æ„ŸçŸ¥ â€¢ ç¥ç»ï¼š</b><span id="stat-neuro">åˆ†æ•£ç¥ç»èŠ‚</span></li>
        <li>ğŸ›¡ï¸ <b>ç»“æ„ â€¢ é˜²å¾¡ï¼š</b><span id="stat-shell">ç›´é”¥å½¢(8cm)</span></li>
        <li>ğŸš€ <b>åŠ¨åŠ› â€¢ è¿åŠ¨ï¼š</b><span id="stat-power">åŸå§‹å–·æ°´</span></li>
        <li>ğŸ‘ï¸ <b>ä»£è°¢ â€¢ å¾ªç¯ï¼š</b><span id="stat-metabolism">åŸå§‹å¾ªç¯ç³»ç»Ÿ</span></li>
        <li>ğŸ™ <b>ç”Ÿæ®– â€¢ ç¹è¡ï¼š</b><span id="stat-spawning">ä½“å¤–ç²¾å›¢æŠ›æ´’</span></li>
      </ul>
      <div style="margin-top: 10px; background: #000; height: 8px; border-radius: 4px;">
        <div id="bar-adaptability" style="background: #2ecc71; width: 20%; height: 100%; border-radius: 4px; transition: width 0.5s ease;"></div>
      </div>
      <small>ç”Ÿå­˜é€‚åº”åº¦ï¼š<span id="val-adaptability">20</span>%</small>
    </div>

    <!-- ç¯å¢ƒæ„ŸçŸ¥ -->
    <div class="panel env-panel">
      <h3>ğŸŒŠ å¤–éƒ¨ç¯å¢ƒ</h3>
      <div class="env-content">
        <div style="margin-bottom: 8px;"><b>å½“å‰åæ ‡ï¼š</b><span id="env-location">å¤ç‰¹ææ–¯æ´‹</span></div>
        <div style="color: #ff5555;" id="env-threat">âš ï¸ <b>æ•é£Ÿè€…ï¼š</b>æ‰«æä¸­...</div>
        <div style="color: #2ecc71;" id="env-opportunity">ğŸ€ <b>æœºé‡ï¼š</b>æ‰«æä¸­...</div>
        <div style="color: #8ecae6;" id="env-prey">ğŸ¥˜ <b>çŒç‰©ï¼š</b>æ‰«æä¸­...</div>
        
        <div class="luck-hint">
          <small id="luck-feedback">ç­‰å¾…å‘½è¿çš„éª°å­...</small>
        </div>
      </div>
    </div>
  </div>

  
    <!-- â­ æ–°å¢ï¼šç”Ÿå‘½ç³»ç»Ÿæ ¸å¿ƒé¢æ¿ -->
    <div class="panel systems-panel">
    <h3>ğŸ”¬ ç”Ÿå‘½æ ¸å¿ƒç³»ç»Ÿ</h3>
    <div class="systems-grid">
        <!-- ç³»ç»Ÿ 1: æ„ŸçŸ¥ -->
        <div class="system-item">
        <div class="system-label">ğŸ§  æ„ŸçŸ¥ â€¢ ç¥ç»</div>
        <div class="progress-bg">
            <div id="bar-system-neuro" class="progress-fill system-neuro-fill" style="width: 10%;"></div>
        </div>
        <small>ç­‰çº§: <span id="val-system-neuro">10</small>
        </div>
        <!-- ç³»ç»Ÿ 2: ç»“æ„ -->
        <div class="system-item">
        <div class="system-label">ğŸ›¡ï¸ ç»“æ„ â€¢ é˜²å¾¡</div>
        <div class="progress-bg">
            <div id="bar-system-structure" class="progress-fill system-structure-fill" style="width: 15%;"></div>
        </div>
        <small>ç­‰çº§: <span id="val-system-structure">15</small>
        </div>
        <!-- ç³»ç»Ÿ 3: åŠ¨åŠ› -->
        <div class="system-item">
        <div class="system-label">ğŸš€ åŠ¨åŠ› â€¢ è¿åŠ¨</div>
        <div class="progress-bg">
            <div id="bar-system-motor" class="progress-fill system-motor-fill" style="width: 12%;"></div>
        </div>
        <small>ç­‰çº§: <span id="val-system-motor">12</small>
        </div>
        <!-- ç³»ç»Ÿ 4: ä»£è°¢ -->
        <div class="system-item">
        <div class="system-label">âš¡ ä»£è°¢ â€¢ å¾ªç¯</div>
        <div class="progress-bg">
            <div id="bar-system-metabolism" class="progress-fill system-metabolism-fill" style="width: 20%;"></div>
        </div>
        <small>ç­‰çº§: <span id="val-system-metabolism">20</small>
        </div>
        <!-- â­ ä¿®æ”¹ç¬¬5ä¸ªç³»ç»Ÿ -->
        <div class="system-item">
        <div class="system-label">ğŸ§¬ ç”Ÿæ®– â€¢ ç¹è¡</div> <!-- ä¿®æ”¹äº†å›¾æ ‡å’Œæ–‡å­— -->
        <div class="progress-bg">
            <!-- ä¿®æ”¹äº†ID -->
            <div id="bar-system-reproduction" class="progress-fill system-reproduction-fill" style="width: 5%;"></div>
        </div>
        <!-- ä¿®æ”¹äº†ID -->
        <small>ç­‰çº§: <span id="val-system-reproduction">5</small>
        </div>
    </div>
    </div>

  <!-- è¿›åŒ–é€‰é¡¹ (åŠ¨æ€ç”Ÿæˆ) -->
  <div class="options-section">
    <h3 class="options-header">â– ç”Ÿå­˜æŠ‰æ‹© â–</h3>
    <div class="energy-cost-hint">
      âš¡ èƒ½é‡æ˜¯å…³é”® | å½“å‰èƒ½é‡ï¼š<span id="current-energy-display">85</span>
    </div>
    
    <div id="options-container" class="options-grid">
       <div style="text-align:center; color: #8ecae6;">æ­£åœ¨åŠ è½½è¿›åŒ–å¯èƒ½æ€§...</div>
    </div>
  </div>

  <!-- é¡µè„š -->
  <div class="footer">
    <!-- å·¦è¾¹ï¼šé‡ç½®æŒ‰é’® -->
    <button id="reset-button" title="æ¸…é™¤æœ¬åœ°å­˜æ¡£å¹¶é‡æ–°å¼€å§‹">âœ¨ åˆå§‹åŒ–æ¸¸æˆ</button>
    
    <!-- å³è¾¹ï¼šReroll æŒ‰é’® (åŸ footer-right ä½ç½®) -->
    <button id="btn-reroll" title="é‡æ–°ç”ŸæˆAIå›å¤ï¼Œæ•°å€¼ä¸ä¼šå›æ»š">
        ğŸ”„ é‡æ–°ç”Ÿæˆæœ¬æ¬¡
    </button>
  </div>

</div>

<script src="script.js"></script>
</body>
</html>